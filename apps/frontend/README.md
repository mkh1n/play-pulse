# Culture Atlas - Система оценки фильмов и сериалов

<div align="center">

**Веб-приложение для оценки фильмов, сериалов и актёров с системой заметок и резервного копирования**

</div>

![alt text](/public/images/1.png)

## Оглавление

- [Основные возможности](#основные-возможности)
- [Технологии](#технологии)
- [Функционал](#функционал)
- [Мобильная версия](#мобильная-версия)
- [Безопасность данных](#безопасность-данных)
- [Система резервного копирования](#система-резервного-копирования)
- [Хранение данных](#хранение-данных)

![alt text](/public/images/3.png)
![alt text](/public/images/4.png)

## Основные возможности

### Управление медиа-коллекцией
- **Оценка фильмов и сериалов** от 1 до 10 звёзд
- **Добавление в избранное**
- **Отметка просмотренных**
- **Список "Хочу посмотреть"**
- **Персональные заметки** под каждым медиа
- **Поиск актёров, режиссёров и персон**

### Интерфейс и UX
- **Адаптивный дизайн** для мобильных устройств
- **Тёмная тема** по умолчанию
- **Интуитивная навигация** по разделам
- **Быстрые действия** без перезагрузки страницы
- **Фильтрация и сортировка** коллекции

### Работа с данными
- **Локальное хранение** всех данных в браузере
- **Экспорт/импорт данных** в JSON формате
- **Автоматическое кэширование** медиа-данных
- **Защита API ключей** через собственный прокси
- **Автономная работа** (после загрузки данных)

![alt text](/public/images/2.png)

## Технологии

- **Next.js 14** - React фреймворк с App Router
- **TypeScript** - Статическая типизация
- **React 18** - UI библиотека
- **Zustand** - Управление состоянием
- **CSS Modules** - Стилизация компонентов
- **TMDB API** - Данные о фильмах и сериалах
- **LocalStorage** - Локальное хранение данных
- **Vercel** - Хостинг и деплой

## Функционал

### Поиск и просмотр
- Поиск фильмов, сериалов и персон по названию
- Фильтрация по жанрам, году выпуска, рейтингу
- Просмотр детальной информации о медиа
- Похожие фильмы и сериалы

### Пользовательские действия
- **StarRating** - Оценка от 1 до 10 звёзд
- **FavoriteButton** - Добавление в избранное
- **WatchedButton** - Отметка просмотренного
- **NoteBlock** - Создание и редактирование заметок
- **WatchlistButton** - Добавление в список "Хочу посмотреть"

### Управление коллекцией
- Просмотр всей коллекции в профиле
- Фильтрация по типу (фильмы/сериалы/персоны)
- Сортировка по дате, рейтингу, названию
- Поиск по названию и описанию
- Группировка по статусам (избранное, просмотренные и т.д.)

## Мобильная версия

Приложение полностью адаптировано для мобильных устройств:

- **Адаптивный дизайн** - автоматическая подстройка под размер экрана
- **Touch-friendly интерфейс** - увеличенные кнопки и элементы
- **Оптимизированная навигация** - удобное меню для мобильных
- **Быстрая загрузка** - оптимизация изображений и данных
- **Офлайн-работа** - доступ к сохранённым данным без интернета

## Безопасность данных

### Защита API ключей
Для обхода региональных ограничений TMDB API в России и защиты API ключей реализована двухуровневая система:

1. **Собственный прокси-сервер** на Vercel
2. **Серверные API роуты** в Next.js

### Схема работы:
```
Клиентский запрос → Vercel Proxy → TMDB API
     ↓                     ↓          ↓
   Браузер              Сервер      TMDB
   (без API ключей)  (с API ключами)
```

### Преимущества:
- API ключи никогда не попадают в клиентский код
- Обход региональных блокировок TMDB
- Кэширование запросов для уменьшения нагрузки
- Централизованное управление ошибками

## Система резервного копирования

### Экспорт данных
- Экспорт всей коллекции в один JSON файл
- Включение всех оценок, заметок, избранного
- Кэшированные медиа-данные для быстрой загрузки
- Автоматическое именование файлов с датой

### Импорт данных
- Загрузка JSON файла с резервной копией
- Проверка формата и целостности данных
- Слияние с существующими данными
- Подтверждение перед перезаписью

### Особенности:
- **Переносимость** - данные можно перенести на другое устройство
- **Безопасность** - локальное хранение без облачных сервисов
- **Контроль версий** - возможность вести историю изменений
- **Простота** - один файл для всей коллекции

## Хранение данных

### Хранилища Zustand

#### `userDataStore`
Хранит все пользовательские данные с автоматической синхронизацией в LocalStorage:

```typescript
{
  ratings: { 'movie_123': { value: 8, updatedAt: '...' } },
  notes: { 'tv_456': { content: '...', updatedAt: '...' } },
  favorites: { 'movie_789': { addedAt: '...' } },
  watched: { 'tv_101': { lastWatchedAt: '...' } },
  watchlist: { 'movie_112': { addedAt: '...' } }
}
```

#### `mediaCacheStore`
Кэширует данные TMDB API для офлайн-доступа и уменьшения запросов:


### Преимущества прокси-подхода
- **Безопасность**: API ключи не видны в браузере
- **Стабильность**: обход региональных блокировок
- **Кэширование**: уменьшение нагрузки на TMDB API

## Благодарности

- [The Movie Database (TMDB)](https://www.themoviedb.org/) за предоставление API
- Сообщество Next.js и React за отличные инструменты

